(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{5773:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(5155),r=t(6766),l=t(6874),o=t.n(l),n=t(5695),i=t(2115);function m(){let e=(0,n.useRouter)(),[s,t]=(0,i.useState)(""),[l,m]=(0,i.useState)(""),[d,c]=(0,i.useState)(""),u=async t=>{if(t.preventDefault(),!s||!l)return void c("Please enter both email and password.");try{let t=await fetch("".concat("https://backend-supermarket.onrender.com","/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:l})}),a=await t.json();if(t.ok){if(localStorage.setItem("token",a.token),a.name)localStorage.setItem("name",a.name);else if(a.email){let e=a.email.split("@")[0];localStorage.setItem("name",e)}e.push("/")}else c(a.message||"Invalid email or password.")}catch(e){console.error("Login error:",e),c("An error occurred. Please try again later.")}};return(0,a.jsxs)("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[(0,a.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[(0,a.jsx)(r.default,{src:"/assests/APlogos.png",width:80,height:30,className:"mx-auto",alt:"Logo"}),(0,a.jsx)("h2",{className:"block w-full rounded-md border bg-green-500 mt-10 text-center text-2xl font-semibold text-white",children:"Sign in to your account"})]}),(0,a.jsxs)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[(0,a.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[d&&(0,a.jsx)("div",{className:"text-red-500 text-center",children:d}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900",children:"Email address"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{id:"email",name:"email",type:"email",required:!0,autoComplete:"email",value:s,onChange:e=>t(e.target.value),className:"block w-full rounded-md border border-gray-300 px-3 py-1.5 text-base text-gray-900 placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-green-600 sm:text-sm"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-900",children:"Password"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{id:"password",name:"password",type:"password",required:!0,autoComplete:"current-password",value:l,onChange:e=>m(e.target.value),className:"block w-full rounded-md border border-gray-300 px-3 py-1.5 text-base text-gray-900 placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-green-600 sm:text-sm"})})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-green-600 px-3 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-green-700 focus-visible:outline focus-visible:outline-offset-2 focus-visible:outline-green-700",children:"Sign in"})})]}),(0,a.jsxs)("p",{className:"mt-10 text-center text-sm text-gray-500",children:["Not a member?"," ",(0,a.jsx)(o(),{href:"/register",className:"font-semibold text-green-600 hover:text-green-500",children:"Register"})]})]})]})}},6262:(e,s,t)=>{Promise.resolve().then(t.bind(t,5773))}},e=>{var s=s=>e(e.s=s);e.O(0,[766,244,441,684,358],()=>s(6262)),_N_E=e.O()}]);